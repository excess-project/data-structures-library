// Simple spinlock.
//   Copyright (C) 2015  Anders Gidenstam

#ifndef __SPINLOCK_H
#define __SPINLOCK_H

namespace excess {
namespace locks {

// Spin-lock abstract base class
class spinlock {
protected:
  spinlock() {}

public:
  virtual void lock() = 0;
  virtual void unlock() = 0;

private:
  // Disallow copying and assignment.
  spinlock(const spinlock&);
  void operator=(const spinlock&);
};

}}

#include "impl/spinlock_TTAS_CAS"
#include "impl/spinlock_TTAS_AcquireRelease"

#endif
